<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>📦vue组件发布npm最佳实践 | FEMessage blog</title>
    <meta name="description" content="things every member should konw">
    <link rel="icon" href="https://avatars3.githubusercontent.com/u/39977793?s=200&amp;v=4">
    
    <link rel="preload" href="/blog/assets/css/0.styles.7a18dcc6.css" as="style"><link rel="preload" href="/blog/assets/js/app.90e91239.js" as="script"><link rel="preload" href="/blog/assets/js/2.acf68d8b.js" as="script"><link rel="preload" href="/blog/assets/js/30.931a5066.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.18112d9e.js"><link rel="prefetch" href="/blog/assets/js/11.83945194.js"><link rel="prefetch" href="/blog/assets/js/12.f6ae8023.js"><link rel="prefetch" href="/blog/assets/js/13.f9a32637.js"><link rel="prefetch" href="/blog/assets/js/14.65a7db74.js"><link rel="prefetch" href="/blog/assets/js/15.16df67e8.js"><link rel="prefetch" href="/blog/assets/js/16.e5fb3a01.js"><link rel="prefetch" href="/blog/assets/js/17.0b6d88da.js"><link rel="prefetch" href="/blog/assets/js/18.b79421ae.js"><link rel="prefetch" href="/blog/assets/js/19.c6d37fcc.js"><link rel="prefetch" href="/blog/assets/js/20.a755ce95.js"><link rel="prefetch" href="/blog/assets/js/21.b582cf77.js"><link rel="prefetch" href="/blog/assets/js/22.f6388931.js"><link rel="prefetch" href="/blog/assets/js/23.3a7e4ee1.js"><link rel="prefetch" href="/blog/assets/js/24.d725950b.js"><link rel="prefetch" href="/blog/assets/js/25.5d0830c9.js"><link rel="prefetch" href="/blog/assets/js/26.ef5c8db7.js"><link rel="prefetch" href="/blog/assets/js/27.05056730.js"><link rel="prefetch" href="/blog/assets/js/28.41007000.js"><link rel="prefetch" href="/blog/assets/js/29.dae308f0.js"><link rel="prefetch" href="/blog/assets/js/3.3faf71fd.js"><link rel="prefetch" href="/blog/assets/js/31.863e01a2.js"><link rel="prefetch" href="/blog/assets/js/32.e404c986.js"><link rel="prefetch" href="/blog/assets/js/33.3e46a5a7.js"><link rel="prefetch" href="/blog/assets/js/34.929a9cb0.js"><link rel="prefetch" href="/blog/assets/js/35.758281b7.js"><link rel="prefetch" href="/blog/assets/js/36.79a3c24a.js"><link rel="prefetch" href="/blog/assets/js/37.1df0ac3a.js"><link rel="prefetch" href="/blog/assets/js/38.a74e8784.js"><link rel="prefetch" href="/blog/assets/js/39.8e305126.js"><link rel="prefetch" href="/blog/assets/js/4.78dc510e.js"><link rel="prefetch" href="/blog/assets/js/40.8eb5e725.js"><link rel="prefetch" href="/blog/assets/js/5.ea83b604.js"><link rel="prefetch" href="/blog/assets/js/6.6fdf4e2b.js"><link rel="prefetch" href="/blog/assets/js/7.03d28a8c.js"><link rel="prefetch" href="/blog/assets/js/8.3a8047a8.js"><link rel="prefetch" href="/blog/assets/js/9.643eee0c.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7a18dcc6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">FEMessage blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/FEMessage/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/FEMessage/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>编码</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/docs/coding/basic-knowledge.html" class="sidebar-link">前端基础</a></li><li><a href="/blog/docs/coding/before-coding.html" class="sidebar-link">编程修养</a></li><li><a href="/blog/docs/coding/clean-code-tips.html" class="sidebar-link">编码技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>编程故事</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/docs/coding-story/achieve-commitment-and-deliver-available-software.html" class="sidebar-link">履行承诺，交付可用的功能</a></li><li><a href="/blog/docs/coding-story/how-can-we-fix-200-bugs-in-a-week.html" class="sidebar-link">一周消灭200个bug</a></li><li><a href="/blog/docs/coding-story/just-do-it.html" class="sidebar-link">执行力</a></li><li><a href="/blog/docs/coding-story/practice-collective-ownership.html" class="sidebar-link">编程接力</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>组件研发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/docs/component-development/how-to-develop-open-source-vue-component-part-1-the-workflow.html" class="sidebar-link">组件研发指南（一）：研发流程</a></li><li><a href="/blog/docs/component-development/how-to-develop-open-source-vue-component-part-2-hosting-in-private-registry.html" class="sidebar-link">组件研发指南（二）：私服托管</a></li><li><a href="/blog/docs/component-development/how-to-develop-open-source-vue-component-part-3-the-open-source-guide.html" class="sidebar-link">组件研发指南（三）：开源协作</a></li><li><a href="/blog/docs/component-development/how-to-develop-open-source-vue-component-part-4-thinking-improvement.html" class="sidebar-link">组件研发指南（四）：思维提升</a></li><li><a href="/blog/docs/component-development/how-to-develop-open-source-vue-component-part-5-some-tips-may-help.html" class="sidebar-link">组件研发指南（五）：基础拾遗</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>GIT指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/docs/git/git-best-pratices.html" class="sidebar-link">GIT最佳实践</a></li><li><a href="/blog/docs/git/git-common-commands.html" class="sidebar-link">GIT常用命令</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>软技能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/docs/soft-skill/rules-of-thumb-and-nuggets-of-wisdom.html" class="sidebar-link">经验法则与至理名言</a></li><li><a href="/blog/docs/soft-skill/search-tips.html" class="sidebar-link">搜索技巧</a></li><li><a href="/blog/docs/soft-skill/the-pyramid-priceple-using-in-github-pr.html" class="sidebar-link">金字塔原理在Github PR中的运用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>教程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/docs/tutorial/a-guide-for-chinese-frontend-developer-dockerizing-your-nodejs-app.html" class="sidebar-link">🐳从零开始Docker化Node.js应用</a></li><li><a href="/blog/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.html" class="active sidebar-link">📦vue组件发布npm最佳实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.html#npm发包" class="sidebar-link">npm发包</a></li><li class="sidebar-sub-header"><a href="/blog/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.html#打包vue" class="sidebar-link">打包Vue</a></li><li class="sidebar-sub-header"><a href="/blog/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.html#参考" class="sidebar-link">参考</a></li><li class="sidebar-sub-header"><a href="/blog/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.html#注" class="sidebar-link">注</a></li></ul></li><li><a href="/blog/docs/tutorial/capture-and-rewrite-https-request.html" class="sidebar-link">🕸捕获与改写HTTPS请求</a></li><li><a href="/blog/docs/tutorial/decode-base64-in-utf8.html" class="sidebar-link">解码base64的utf-8字符串</a></li><li><a href="/blog/docs/tutorial/how-to-write-a-github-app.html" class="sidebar-link">🤖如何写一个Github App</a></li><li><a href="/blog/docs/tutorial/integrate-github-with-netlify-to-preview-changes.html" class="sidebar-link">⚡️Github集成Netlify：快速预览PR</a></li><li><a href="/blog/docs/tutorial/integrate-github-with-travis-ci-to-auto-deployment.html" class="sidebar-link">🚀Github集成Travis CI：自动发布</a></li><li><a href="/blog/docs/tutorial/reveal-the-secret-of-a-powerful-tool-to-develop-vue-single-file-compoent.html" class="sidebar-link">🔨揭秘vue-sfc-cli：组件研发利器</a></li><li><a href="/blog/docs/tutorial/setup-an-automated-github-workflow.html" class="sidebar-link">🌪自动化的Github Workflow</a></li><li><a href="/blog/docs/tutorial/test-driven-development-by-jest.html" class="sidebar-link">✅使用jest进行测试驱动开发</a></li><li><a href="/blog/docs/tutorial/use-free-https-service.html" class="sidebar-link">🔒免费开启HTTPS</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="📦vue组件发布npm最佳实践"><a href="#📦vue组件发布npm最佳实践" aria-hidden="true" class="header-anchor">#</a> 📦vue组件发布npm最佳实践</h1> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>我们经常使用组件，二次封装或开发新组件，在团队内部使用; 可当我们想通过npm分享组件时，却没了之前的得心应手，本文旨在帮助大家在可以更轻松地发布组件</p> <p>首先，把vue组件发布到npm这件事可以拆分成两个部分：</p> <ol><li>在npm上发布一个包</li> <li>将vue组件打包</li></ol> <h2 id="npm发包"><a href="#npm发包" aria-hidden="true" class="header-anchor">#</a> npm发包</h2> <p>有人说，发包不是一行命令就搞定了么</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> publish
</code></pre></div><p>是的，可是还忽略了以下几点：</p> <ol><li>首先你要在<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npmjs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上注册一个账号</li> <li>查看你的<code>.npmrc</code>设置，确保你的registry是https://www.npmjs.com/, 而不是淘宝源</li> <li>在终端<code>npm login</code>，登录你的账号</li></ol> <p>做好以上三点，才可以通过<code>npm publish</code>简单地发布一个包。若要遵循最佳实践，还有一些准备工作要做好，下面将为你讲述</p> <h3 id="完善基本信息"><a href="#完善基本信息" aria-hidden="true" class="header-anchor">#</a> 完善基本信息</h3> <p>package.json的以下字段需要注意</p> <ul><li><code>name</code></li> <li><code>version</code></li> <li><code>description</code></li> <li><code>keywords</code></li> <li><code>author</code></li> <li><code>license</code></li> <li><code>repository</code></li> <li><code>main</code></li> <li><code>unpkg</code></li> <li><code>module</code></li> <li><code>scripts</code></li> <li><code>engines</code></li></ul> <p><code>name</code>就是发布到npm上的包名，也即别人安装时输入的名字<code>yarn add ${name}</code>, 包名应该是<code>kebab-case</code>, 即英文单词全小写，中划线分割(lower case and dash-separated)</p> <p><code>version</code>是语义化的，<code>major.minor.patch</code>. 如果是<code>major</code>变动，通常意味着不兼容的修改; 如果是<code>minor</code>，意味着添加向后兼容的新功能，如果是<code>patch</code>, 意味着bug的修复。详情见<a href="https://semver.org/" target="_blank" rel="noopener noreferrer">semver.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>description</code>是对包的描述，在<a href="https://www.npmjs.com/package/package" target="_blank" rel="noopener noreferrer">npmjs.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上搜索时会显示，有助于用户在搜索时进行筛选</p> <p><code>keywords</code> 同样也是帮助用户查找到你的包</p> <p><code>author</code>的格式一般是<code>${your name} ${email}</code>, 当然也可以是一个github地址</p> <p><code>license</code>可能很多人会忽略，最好也写上去。至于用哪个，vue的官方项目全是MIT，因此我也是MIT，不纠结</p> <p><code>repository</code>的格式参考如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/FEMessage/el-data-table.git&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样在<a href="https://www.npmjs.com/package/el-data-table" target="_blank" rel="noopener noreferrer">npm包页面<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>就有会个github的入口</p> <p><code>main</code>定义了包的入口文件，在NodeJs环境，语句<code>import pkg from 'package-name'</code>时，其实导入的就是<code>main</code>定义的文件，它可以是<a href="http://www.commonjs.org/" target="_blank" rel="noopener noreferrer">CommonJs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>格式的, 也可以是<a href="https://github.com/umdjs/umd" target="_blank" rel="noopener noreferrer">umd<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>格式</p> <p>需要注意的是，当你把一个包发布到npm上时，它同时也可以在<a href="https://unpkg.com/#/" target="_blank" rel="noopener noreferrer">unpkg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上获取到。也就是说，你的代码既可能在NodeJs环境也可能浏览器环境执行。为此你需要用<a href="https://github.com/umdjs/umd" target="_blank" rel="noopener noreferrer">umd<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>格式打包，并且在package.json定义<code>unpkg</code>字段，一般而言此时它的命名为<code>name.min.js</code></p> <p>最后，别忘了定义<code>module</code>或<code>jsnext:main</code>字段，它表示用ES6模块格式打包，给Webpack 2+或Rollup等先进的构建工具来处理。</p> <p>我们来看一下三个字段的示例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/el-data-table.js&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;unpkg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/el-data-table.min.js&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/el-data-table.esm.js&quot;</span>
</code></pre></div><p><code>scripts</code> 为了防止出现发包前忘记构建的乌龙事件，定义一下发布前的脚本, 这样每次执行<code>npm publish</code>前都会先执行<code>npm run build</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;prepublishOnly&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build&quot;</span>
</code></pre></div><p><code>engines</code> 可以告诉用户运行你的包对NodeJs版本的要求，这是非常重要的，不然你使用了NodeJs新版本特性，却没有定义该字段，导致低版本NodeJs用户运行报错，让人摸不着头脑。</p> <h3 id="定义依赖"><a href="#定义依赖" aria-hidden="true" class="header-anchor">#</a> 定义依赖</h3> <p>当你开发一个项目时，比如一个静态网站或一个单面应用，<strong>dependencies</strong>和<strong>devDependencies</strong>并没有太多区别，因为你<code>npm install</code> 或 <code>yarn</code>时，这些依赖都会下载下来，因为你是在开发。</p> <p>但对于发布到npm的包则不同：</p> <p><strong>dependencies</strong> 是运行你的包必须安装的依赖，即当用户<code>yarn add my-awesome-package</code>时，这些依赖也会下载。</p> <p><strong>devDependencies</strong> 是开发你的包时需要安装的依赖，比如<code>eslint</code>, <code>jest</code>等开发工具，当用户<code>yarn add my-awesome-package</code> 时，这些依赖并不会下载！</p> <p><strong>peerDependencies</strong> 一般用于开发插件的场景，它要求用户必须预先安装了某些依赖。比如开发<code>webpack</code>的插件，如果你把对<code>webpack</code>的依赖定义成<strong>dependencies</strong>, 如果用户安装的<code>webpack</code>跟<strong>dependencies</strong>里的<code>minor</code>版本不一致, 则用户<code>yarn add my-webpack-plugin</code>时会把<strong>dependencies</strong>定义的<code>webpack</code>也下载下来，也即用户会安装两个<code>major</code>版本相同的<code>webpack</code>, 这就不合适了。</p> <p>所以说，定义好你的包的依赖，可以让用户安装使用你的包时少点困惑，多些愉悦。</p> <h3 id="忽略文件"><a href="#忽略文件" aria-hidden="true" class="header-anchor">#</a> 忽略文件</h3> <p>如果有 <code>.gitignore</code>文件，则发布时会忽略 <code>.gitignore</code>中定义的文件;  也即这些文件不需要在<code>.npmignore</code>重新定义。如果用<code>.gitignore</code>忽略了<code>dist</code>目录，但发包时又需要发布<code>dist</code>目录，此时可以在package.json定义<code>files</code>字段，这是一个白名单，里面的文件都会被发布出去</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;dist&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><p>需要注意的是，子文件夹<code>.gitignore</code>或<code>.npmignore</code>同样有效，而它们会覆盖<code>files</code>字段</p> <p>另外，有些文件无论如何设置，都不会发布出去：</p> <ul><li><code>node_modules</code></li> <li><code>.git</code>(包括<code>.gitignore</code>)</li></ul> <h3 id="readme-md"><a href="#readme-md" aria-hidden="true" class="header-anchor">#</a> README.md</h3> <p>别忘了这个文件，写下与包相关的更具体的信息，告诉用户这个包有哪些功能，如何使用。这很重要，用户不会使用一个没有文档说明的包！</p> <h3 id="发布"><a href="#发布" aria-hidden="true" class="header-anchor">#</a> 发布</h3> <p>一个版本只能发布一次，为了避免每次手动修改<code>package.json</code>, 可以使用<code>npm version [major | minor | patch]</code>命令来更新<code>package.json</code>里的版本</p> <h3 id="打标签"><a href="#打标签" aria-hidden="true" class="header-anchor">#</a> 打标签</h3> <p>假设你的包最新版本是<code>1.0.0</code>, 当用户<code>yarn add my-awesome-package</code>或<code>yarn add my-awesome-package@1.0.0</code>时，其实是相当于<code>yarn add my-awesome-package@latest</code>, 即不指定标签安装时，默认安装<code>latest</code>版本。</p> <p>假设你正在开发<code>2.0.0</code>版本，它还不稳定，你想发布它让用户测试一波，此时又不能让它变成<code>latest</code>版本，不然用户<code>yarn add my-awesome-package</code>时就安装了<code>2.0.0</code>了，那将让用户崩溃。这时该怎么办呢？标签就用上场了。</p> <p>可以这样发布</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> publish --tag beta
</code></pre></div><p>则用户<code>yarn add my-awesome-package</code>安装的是<code>1.0.0</code>版本， <code>yarn add my-awesome-package@beta</code>时，安装的是<code>2.0.0</code>版本，不影响老用户，棒！🎉</p> <p>记住，你只能对一个版本打一个标签，使用<code>npm dist-tag ls</code> 可以查看npm包一共打了几个标签</p> <h2 id="打包vue"><a href="#打包vue" aria-hidden="true" class="header-anchor">#</a> 打包Vue</h2> <h3 id="脚手架"><a href="#脚手架" aria-hidden="true" class="header-anchor">#</a> 脚手架</h3> <p>经过一番折腾，在<a href="https://www.vuemastery.com/conferences/vueconf-2018/5-libraries-you-should-know-about-adam-jahr/" target="_blank" rel="noopener noreferrer">Vue Conf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上找到一个vue组件的打包脚手架(<a href="https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" target="_blank" rel="noopener noreferrer">vue官方文档也有说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)，进行“本土化”修改完善后，已在github开源：<a href="https://github.com/FEMessage/vue-sfc-cli" target="_blank" rel="noopener noreferrer">https://github.com/FEMessage/vue-sfc-cli<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="说明"><a href="#说明" aria-hidden="true" class="header-anchor">#</a> 说明</h3> <p>我们以开源组件<a href="https://github.com/FEMessage/el-data-table" target="_blank" rel="noopener noreferrer">el-data-table<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>为例，解释目录结构及文件</p> <div class="language-sh extra-class"><pre class="language-sh"><code>├── README.md
├── build
│   └── rollup.config.js
├── dist
│   ├── el-data-table.esm.js
│   ├── el-data-table.min.js
│   └── el-data-table.umd.js
├── docs
│   ├── build
│   └── index.html
├── package.json
├── src
│   ├── el-data-table.vue
│   └── index.js
├── styleguide.config.js
├── <span class="token function">test</span>
│   └── index.test.js
└── yarn.lock
</code></pre></div><p>先来看三个文件:</p> <ul><li><code>README.md</code></li> <li><code>package.json</code></li> <li><code>yarn.lock</code></li></ul> <p><code>README.md</code>与<code>package.json</code>大家都懂，有<code>yarn.lock</code>因为是我们鼓励大家使用<a href="https://yarnpkg.com/lang/en/" target="_blank" rel="noopener noreferrer">yarn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,  它比<code>npm</code>更快。虽然<code>npm</code> 6.0号称提速17倍(可以想象6之前是得有多慢😂)，但经测试，还是不如<code>yarn</code></p> <p>接下来看<code>build</code>, <code>dist</code>, <code>src</code> 目录</p> <div class="language-sh extra-class"><pre class="language-sh"><code>├── build
│   └── rollup.config.js
├── dist
│   ├── el-data-table.esm.js
│   ├── el-data-table.min.js
│   └── el-data-table.umd.js
├── src
│   ├── el-data-table.vue
│   └── index.js
</code></pre></div><p><code>build</code> 目录下放编译时的配置文件，这个跟<code>vue-cli 2.x</code>生成的模板build目录作用是一样的，只不过这里放置的是<code>rollup.config.js</code>。至于为什么用Rollup, 一是因为配置更简单，二是因为它更适合打包类库，当源文件中有<code>import lib from 'awesome-lib'</code>类似的代码时，Rollup并不会把<code>awesome-lib</code>捆绑输出，这正是开发类库或组件需要的特性</p> <p><code>dist</code>是输出目录，也有叫<code>lib</code>的，我也纠结了好久。看了一些优秀的开源项目，发现叫<code>dist</code>的比较多，而<code>webpack4</code>默认的输出目录也是<code>dist</code>, 因此决定用<code>dist</code>。至于<code>dist</code>目录下会有三个文件，前文已说过原因。而命名为何不是<code>camelcase</code>, 而是<code>kebab-case</code>, 后面风格指南会说到</p> <p><code>src</code>是输入目录。把<code>index.js</code>放在<code>src</code>目录，也是经过一番考虑。也想把<code>index.js</code>跟<code>package.json</code>同级，最终参考了<code>webpack4</code>, 它默认输入是<code>src/index.js</code>, 那就跟主流保持一致。该文件主要工作是把<code>src</code>目录下的vue文件设置成vue的插件。同样，vue文件的命名后面风格指南会说到</p> <div class="language-sh extra-class"><pre class="language-sh"><code>├── <span class="token function">test</span>
│   └── index.test.js
</code></pre></div><p><code>test</code>目录下是基于<code>jest</code>及<code>vue/test-utils</code>的单元测试文件，具体教程可参考<a href="https://vue-test-utils.vuejs.org/guides/#testing-single-file-components-with-jest" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sh extra-class"><pre class="language-sh"><code>├── docs
│   ├── build
│   └── index.html
├── styleguide.config.js
</code></pre></div><p><code>docs</code>存放的是组件的api文档，包含<code>props</code>, <code>slot</code>, <code>event</code>等内容的说明，使用的是<a href="https://www.npmjs.com/package/vue-styleguidist" target="_blank" rel="noopener noreferrer">vue-styleguidist<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>作为vue组件文档生成工具。为啥叫 <code>docs</code>呢，因为<code>Github Pages</code>支持从<code>master</code>分支的<code>docs</code>目录读取文件，在仓库<code>Settings</code>里选择<code>Github Pages</code>的<code>Source</code>即可, 具体看<a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="风格指南"><a href="#风格指南" aria-hidden="true" class="header-anchor">#</a> 风格指南</h3> <p>vue组件把template/script/style都放在一个vue文件里，这个称之为单文件组件，<code>Single File Component</code>，缩写为SFC, 这就是<a href="https://github.com/FEMessage/vue-sfc-cli" target="_blank" rel="noopener noreferrer">vue-sfc-cli<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中sfc的寓意</p> <p>通读<a href="https://cn.vuejs.org/v2/style-guide/index.html" target="_blank" rel="noopener noreferrer">vue官方风格指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,  由于我们是<code>kebab-case</code>的重度用户，因此我们更看重的是在多个项目中保持相同的大小写规则，以下是摘取的适用于我们团队协作习惯的指南：</p> <ul><li><a href="https://cn.vuejs.org/v2/style-guide/#%E7%BB%84%E4%BB%B6%E5%90%8D%E4%B8%BA%E5%A4%9A%E4%B8%AA%E5%8D%95%E8%AF%8D-%E5%BF%85%E8%A6%81" target="_blank" rel="noopener noreferrer">组件名，应该多个单词<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>这样做可以避免跟现有的以及未来的 HTML 元素<a href="http://w3c.github.io/webcomponents/spec/custom/#valid-custom-element-name" target="_blank" rel="noopener noreferrer">相冲突<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，因为所有的 HTML 元素名称都是单个单词的</p> <ul><li><a href="https://cn.vuejs.org/v2/style-guide/#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%86%99-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90" target="_blank" rel="noopener noreferrer">单文件组件的文件名应该要么始终是单词大写开头 (PascalCase)，要么始终是横线连接 (kebab-case)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>我们选择使用<code>kebab-case</code></p> <p>好例子：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>components/
<span class="token operator">|</span>- my-component.vue
</code></pre></div><ul><li><a href="https://cn.vuejs.org/v2/style-guide/#%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%90%8D%E5%A4%A7%E5%B0%8F%E5%86%99-%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90" target="_blank" rel="noopener noreferrer">在 DOM 模板(template)中总是 kebab-case 的<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>好例子:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token operator">&lt;</span><span class="token operator">!</span>-- template --<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>my-component<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/my-component<span class="token operator">&gt;</span>
</code></pre></div><ul><li>[JS/JSX 中的组件名应该始终是 PascalCase 的，尽管在较为简单的应用中只使用Vue.component 进行全局组件注册时，可以使用 kebab-case 字符串](JS/JSX 中的组件名应该始终是 PascalCase 的，尽管在较为简单的应用中只使用Vue.component 进行全局组件注册时，可以使用 kebab-case 字符串)</li></ul> <p>这里我们选择使用<code>PascalCase</code>, 因为在编程语言里，<code>kebab-case</code>并不是最佳实践。 也即，在非编程语言的范围，我们能用<code>kebab-case</code>就用</p> <p>好例子:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MyComponent'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./my-component.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'MyComponent'</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>综上所述，就可以明白前文中el-data-table的文件命名风格为<code>kebab-case</code>的原因了</p> <h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <ol><li><a href="https://hackernoon.com/how-to-publish-your-package-on-npm-7fc1f5aae600" target="_blank" rel="noopener noreferrer">How to publish your package on npm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.npmjs.com/package/module-best-practices" target="_blank" rel="noopener noreferrer">module-best-practices<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/voorhoede/npm-style-guide" target="_blank" rel="noopener noreferrer">npm-style-guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://semver.org/" target="_blank" rel="noopener noreferrer">semver.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://unpkg.com/#/" target="_blank" rel="noopener noreferrer">unpkg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/umdjs/umd" target="_blank" rel="noopener noreferrer">umd<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.npmjs.com/misc/scripts" target="_blank" rel="noopener noreferrer">npm scripts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.npmjs.com/misc/developers#keeping-files-out-of-your-package" target="_blank" rel="noopener noreferrer">.npmignore<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.vuemastery.com/conferences/vueconf-2018/5-libraries-you-should-know-about-adam-jahr/" target="_blank" rel="noopener noreferrer">2018 Vue Conf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" target="_blank" rel="noopener noreferrer">Vue Cookbook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://cn.vuejs.org/v2/style-guide/index.html" target="_blank" rel="noopener noreferrer">Vue Style Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/appleboy/npm-vs-yarn" target="_blank" rel="noopener noreferrer">npm-vs-yarn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">Github Pages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h2 id="注"><a href="#注" aria-hidden="true" class="header-anchor">#</a> 注</h2> <p>本文最早发布在掘金，现迁移至<a href="https://github.com/levy9527/blog/issues/2" target="_blank" rel="noopener noreferrer">github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/FEMessage/blog/edit/master/docs/tutorial/best-pratices-to-publish-vue-component-via-npm.md" target="_blank" rel="noopener noreferrer">帮助我们完善此页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/docs/tutorial/a-guide-for-chinese-frontend-developer-dockerizing-your-nodejs-app.html" class="prev">
          🐳从零开始Docker化Node.js应用
        </a></span> <span class="next"><a href="/blog/docs/tutorial/capture-and-rewrite-https-request.html">
          🕸捕获与改写HTTPS请求
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.90e91239.js" defer></script><script src="/blog/assets/js/2.acf68d8b.js" defer></script><script src="/blog/assets/js/30.931a5066.js" defer></script>
  </body>
</html>
