# 组件研发指南（一）：研发流程

## 目的

组件产出流程化，规范化。组件必须设计先行，之后再走私服流程、开源流程。

## 研发流程

组件研发整体分以下几步：

- 确定组件适用场景（不能脱离场景谈技术）
- 参考已有案例，或社区已有的组件（避免重复造轮子）
- 设计功能实现（设计先行）
- 编写测试用例（测试驱动）
- 制定研发迭代（敏捷开发）

### 场景
在组件开发的第一步，是根据实践经验以及相关业务，抽象定义出相应的场景。 脱离了场景，功能规划再强大也没有用。

这既是避免过度设计的手段，也是后续进行功能设计、测试编写以及迭代制定的基础。

在这一步，需要确定组件名称。

### 参考
为什么要参考，而不是自己从头开始撸？因为我们要学会站在巨人的肩膀上，而不是一切都从零开始。

动手前，先看看已有的东西:

- 如果已有的成果完全适合我们的场景，那拿来用就是了
- 纵然已有的东西不符合场景，但也有借鉴意义，我们可以基于它来改造

这样做，是为了避免重复的劳动，提高我们的开发效率。

记住，**don't reinvent the wheel**

### 设计
结合场景、测试用例，就可以开始设计组件的api，需要梳理逻辑，理清思路，并输出脑图，示例如下：
![](https://tva1.sinaimg.cn/large/006y8mN6gy1g6nj8t210ij30u010cdik.jpg)

每实现一个功能点，增加一个api，需要补充相应文档。

### 测试
根据组件应有的能力，提前想好测试用例，践行“测试先行”的理念，示例如下：
![](https://tva1.sinaimg.cn/large/006y8mN6gy1g6nj928uz9j30u00yzjv0.jpg)

开发时需要写 demo 展示组件的功能，确保每个 demo 都是可以运行的。

### 迭代
有了上面的输出，就可以划分优先级，制定迭代顺序。示例如下：

![](https://tva1.sinaimg.cn/large/006y8mN6gy1g6nj9aeyaxj31de0m9q56.jpg)

之后再评估工作量，圈定一个时间，按照迭代计划去开发。

在过程中，组件开发者必须严格按照计划顺序进行开发，如有异议，请及时提出，切勿乱序开发，导致混乱。

这样做是为了确保组件开发出来的功能可以最小闭环，而且成本也可控。也即假设5天要实现三个功能点，就算在第5天的时候，只完成两个功能点，也能保证组件是可用的。


