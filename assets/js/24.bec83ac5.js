(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{229:function(t,a,r){"use strict";r.r(a);var e=r(2),s=Object(e.a)({},function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"🕸捕获与改写https请求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#🕸捕获与改写https请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 🕸捕获与改写HTTPS请求")]),t._v(" "),r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),r("p",[t._v("本文站在 macOS 用户的角度下，分享一下对 HTTPS 进行请求拦截、对响应进行修改的经验。")]),t._v(" "),r("p",[t._v("要注意的是，本文介绍的工具虽然一定程度上对 Windows 用户也适用 ，但并非所有工具都是免费的。")]),t._v(" "),r("h2",{attrs:{id:"proxyman"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#proxyman","aria-hidden":"true"}},[t._v("#")]),t._v(" Proxyman")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://proxyman.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Proxyman"),r("OutboundLink")],1),t._v("可以免费使用，在安卓/IOS手机上也有相应的解决方案，如果只是监测请求，查看 API 请求头及响应体，这个足够了。\n"),r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l8bghatxj309u02sglp.jpg",alt:""}})]),t._v(" "),r("h2",{attrs:{id:"charles"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#charles","aria-hidden":"true"}},[t._v("#")]),t._v(" Charles")]),t._v(" "),r("p",[t._v("Charles 是收费的，而且要安装 Java 环境，但它厉害的地方在于，可以改写网络（如修改响应头），因此值得一买。")]),t._v(" "),r("p",[t._v("唯一的缺点就是，官方文档不太好友，界面有一定上手难度，好在文本已有图文并茂的说明。")]),t._v(" "),r("h3",{attrs:{id:"安装与设置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装与设置","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装与设置")]),t._v(" "),r("ul",[r("li",[t._v("进入"),r("a",{attrs:{href:"https://www.charlesproxy.com/documentation/installation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网下载"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("开启 macOS 代理")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l99nejo8j30mw0jq0vp.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("安装SSL证书")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l8xuepk7j31kc0rs79e.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("点击安装后，在界面搜索 "),r("strong",[t._v("Charles")]),t._v("，找到刚刚安装的证书，点击 "),r("strong",[t._v("总是信任")])])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l8ytbdzaj31le0rsaia.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("SSL代理设置")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l98xdkyyj30ps0jeq62.jpg",alt:""}}),t._v(" "),r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l9dn1rnaj30ww0oktcd.jpg",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"改写网络"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#改写网络","aria-hidden":"true"}},[t._v("#")]),t._v(" 改写网络")]),t._v(" "),r("p",[t._v("下面的例子展示了如何改写 HTTPS 请求的响应头。")]),t._v(" "),r("ul",[r("li",[t._v("点击左上角，"),r("strong",[t._v("Structure")])]),t._v(" "),r("li",[t._v("找到想改写的请求，右键，点击 "),r("strong",[t._v("Breakpoints")])])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l9pdko9dj30ig0v2adr.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("Breakpoints Settings")])])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6l9y13bpyj30ny0j2gpg.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("双击编辑详情")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6la131247j30u00iotay.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("取消 "),r("strong",[t._v("Request")]),t._v(" 的勾选")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6la2uqwr0j30og0gaq4j.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("刷新页面，请求将会被拦截，处理 Pending 状态")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6laapappsj31yw09cdi9.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("此时可以编辑响应")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6labk7pxfj31o20m0n2g.jpg",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("最终，客户端收到的是被改写后的响应")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://tva1.sinaimg.cn/large/006y8mN6gy1g6laczflmzj31m40cedje.jpg",alt:""}})]),t._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://deliveroo.engineering/2018/12/04/how-to-use-charles-proxy-to-rewrite-https-traffic-for-web-applications.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://deliveroo.engineering/2018/12/04/how-to-use-charles-proxy-to-rewrite-https-traffic-for-web-applications.html"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://stackoverflow.com/questions/3976728/how-to-configure-ssl-certificates-with-charles-web-proxy-and-the-latest-android",target:"_blank",rel:"noopener noreferrer"}},[t._v("how-to-configure-ssl-certificates-with-charles-web-proxy-and-the-latest-android"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://stackoverflow.com/questions/25697849/charles-proxy-not-working-with-chrome",target:"_blank",rel:"noopener noreferrer"}},[t._v("charles-proxy-not-working-with-chrome"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://medium.com/proxyman/getting-started-with-proxyman-4d44441a48e0",target:"_blank",rel:"noopener noreferrer"}},[t._v("proxyman使用教程"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.moesif.com/features/api-debugging?utm_campaign=log-analysis&utm_term=%2Bhttp%20%2Bdebugger&utm_medium=ppc&utm_source=adwords&utm_campaign=Moesif+Features&hsa_tgt=kwd-423818839629&hsa_ver=3&hsa_acc=1107942668&hsa_cam=716956025&hsa_grp=43007528812&hsa_mt=b&hsa_src=g&hsa_ad=322845104570&hsa_net=adwords&hsa_kw=%2Bhttp%20%2Bdebugger&gclid=CjwKCAjw44jrBRAHEiwAZ9igKLZI1zycVjKcwM18xV9Q_2367viie0CkrYtKC3L8rsW-g_w_YQrN8RoClZoQAvD_BwE",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.moesif.com"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.moesif.com/blog/technical/api-tools/The-Best-Free-REST-API-Debugging-Tools-For-Developing-APIs/#",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.moesif.com/blog/technical/api-tools/The-Best-Free-REST-API-Debugging-Tools-For-Developing-APIs"),r("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=s.exports}}]);